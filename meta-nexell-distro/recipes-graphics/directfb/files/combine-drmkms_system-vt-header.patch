diff --git a/systems/drmkms/drmkms_system.c b/systems/drmkms/drmkms_system.c
index 0e4f8a863..ba514253c 100644
--- a/systems/drmkms/drmkms_system.c
+++ b/systems/drmkms/drmkms_system.c
@@ -50,7 +50,6 @@
 #include <misc/conf.h>

 #include "drmkms_system.h"
-#include "vt.h"

 #include <core/core_system.h>
 #include <core/Task.h>
diff --git a/systems/drmkms/drmkms_system.h b/systems/drmkms/drmkms_system.h
index 142ec6845..eafb2e946 100644
--- a/systems/drmkms/drmkms_system.h
+++ b/systems/drmkms/drmkms_system.h
@@ -51,7 +51,56 @@
 #include <core/screens.h>
 #include <core/Task.h>

-#include "vt.h"
+#include <signal.h>
+#include <termios.h>
+#include <unistd.h>
+#include <linux/vt.h>
+
+#include <directfb.h>
+
+typedef struct {
+     int fd0;                      /* file descriptor of /dev/tty0 */
+     int fd;                       /* file descriptor of /dev/ttyN
+                                      where N is the number of the allocated VT,
+                                      may be equal to 'fd0' if VT allocation
+                                      is disabled by "--no-vt-switch" */
+
+     int num;                      /* number of vt where DirectFB runs */
+     int prev;                     /* number of vt DirectFB was started from */
+
+     int old_fb;                   /* original fb mapped to vt */
+
+     struct sigaction sig_usr1;    /* previous signal handler for USR1 */
+     struct sigaction sig_usr2;    /* previous signal handler for USR2 */
+
+     struct vt_mode   vt_mode;     /* previous VT mode */
+
+     DirectThread    *thread;
+     pthread_mutex_t  lock;
+     pthread_cond_t   wait;
+
+     int              vt_sig;
+     struct termios   old_ts;
+
+     bool             flush;
+     DirectThread    *flush_thread;
+} VirtualTerminal;
+
+/*
+ * allocates and switches to a new virtual terminal
+ */
+DFBResult dfb_vt_initialize( void );
+DFBResult dfb_vt_join( void );
+
+/*
+ * deallocates virtual terminal
+ */
+DFBResult dfb_vt_shutdown( bool emergency );
+DFBResult dfb_vt_leave( bool emergency );
+
+DFBResult dfb_vt_detach( bool force );
+
+bool dfb_vt_switch( int num );

 extern const SurfacePoolFuncs   drmkmsSurfacePoolFuncs;

diff --git a/systems/drmkms/vt.c b/systems/drmkms/vt.c
index 188f0b69d..7ccb234cc 100644
--- a/systems/drmkms/vt.c
+++ b/systems/drmkms/vt.c
@@ -64,7 +64,6 @@
 #include <core/coretypes.h>
 #include <core/gfxcard.h>

-#include "vt.h"
 #include "drmkms_system.h"

 D_DEBUG_DOMAIN( VT, "DRMKMS/VT", "DRMKMS System Module VT Handling" );
