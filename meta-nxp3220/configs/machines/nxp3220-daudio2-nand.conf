# kerne features
KBUILD_DEFCONFIG = "nxp3220_daudio2_nand_defconfig"
KERNEL_IMAGETYPE = "Image"
KERNEL_DEVICETREE = "nxp3220-daudio2-nand-rev00.dtb"

# u-boot features: defconfig, nsih load/lauch adddr
UBOOT_MACHINE = "nxp3220_daudio2_nand_defconfig"

# rootfs features
IMAGE_CLASSES += " nexell-image-types"
IMAGE_FSTYPES += " multiubi2"
IMAGE_FSTYPES_DEBUGFS += " multiubi2"

PART_MISC_NODE = "ubi2:misc"
MKUBIFS_ARGS_boot = "-r ${DEPLOY_DIR_IMAGE}/boot -v boot -i 0 -l 32M"
MKUBIFS_ARGS_misc = "-r ${DEPLOY_DIR_IMAGE}/misc -v misc -i 1 -l 8M"
MKUBIFS_ARGS_rootfs = "-r ${IMAGE_ROOTFS} -v rootfs -i 2 -l 82M"

IMAGE_ROOTFS_SIZE = "32768"

# bl2 board name
BL2_BOARD = "evb"
BL2_NSIH = "${BL2_SOURCE}/reference-nsih/nsih_evb_nand_ddr3_800Mhz.txt"

# bl32 load/launch address
BL32_LOADADDR = "0x5F000000"

# nand features
FLASH_PAGE_SIZE = "2048"
FLASH_BLOCK_SIZE = "128k"
FLASH_DEVICE_SIZE = "128M"

# BBMASK contains regular expressions that can be used to tell BitBake to ignore
BBMASK += "recipes-multimedia/smart-voice-app "

# DISTRO
DISTRO_FEATURES_append = " nexell-nxp3220-daudio2"
SERIAL_CONSOLE = "115200 ttyS2"

# SWUpdate
DISTRO_FEATURES_append = " swupdate"
SWU_UPDATE_SWU_IMAGE = "nxp3220-image-daudio2-nand-2.0.swu"
SWU_HW_REVISION_TARGET = "nxp3220-daudio2-nand 2.0"
SWU_SW_VERSION_FILE = "${BSP_ROOT_DIR}/tools/files/swu-sw-versions_2.0"
SWU_SWDESCRIPTION = "${BSP_ROOT_DIR}/tools/files/swu-sw-description_nand"
SWU_SCRIPT_FILES = "${BSP_ROOT_DIR}/tools/files/swu-script-preinstall.sh ${BSP_ROOT_DIR}/tools/files/swu-script-postinstall.sh"
SWU_SIGN_PASSWORD = "nxp3220"
SWU_SIGN_PRIVATE_KEY = "${BSP_ROOT_DIR}/tools/files/swu.private.key"
SWU_SIGN_PUBLIC_KEY = "${BSP_ROOT_DIR}/tools/files/swu.public.key"
